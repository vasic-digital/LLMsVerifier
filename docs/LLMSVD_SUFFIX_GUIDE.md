# LLMSVD Suffix System - Complete User Guide

## Overview

The LLMSVD suffix system is a mandatory branding requirement that ensures all LLMsVerifier-generated providers and models are clearly identified as including our verification system. Every model and provider name generated by LLMsVerifier now includes the "(llmsvd)" suffix as the final suffix in the naming convention.

## üéØ What is the LLMSVD Suffix?

The "(llmsvd)" suffix is a mandatory branding element that:

1. **Identifies LLMsVerifier Models**: Clearly marks models generated by our system
2. **Ensures Branding Consistency**: Maintains uniform identification across all platforms
3. **Indicates Verification**: Shows that models have passed our verification process
4. **Prevents Confusion**: Distinguishes verified models from raw provider models

## üîß Suffix Format and Positioning

### Suffix Order
The "(llmsvd)" suffix always appears as the **final suffix** after all other feature suffixes:

```
Model Name (feature1) (feature2) (feature3) (llmsvd)
```

### Examples
- **Simple Model**: `GPT-4 (llmsvd)`
- **Model with Features**: `GPT-4 (brotli) (http3) (llmsvd)`
- **Provider Name**: `OpenAI (llmsvd)`
- **Complex Example**: `Claude-3-Sonnet (brotli) (http3) (free to use) (llmsvd)`

## üöÄ Implementation

### Automatic Application
The suffix is automatically applied to:
- ‚úÖ Provider display names
- ‚úÖ Model names
- ‚úÖ Model display names
- ‚úÖ Configuration exports
- ‚úÖ API responses

### Configuration

#### Enable/Disable Suffix
```yaml
branding:
  enabled: true        # Enable LLMSVD suffix
  suffix: "(llmsvd)"   # Suffix text (customizable)
  position: "final"    # Always appears as final suffix
```

#### Custom Suffix (Advanced)
```yaml
branding:
  enabled: true
  suffix: "(verified)"  # Custom suffix text
  position: "final"
```

**Note**: Using custom suffixes is not recommended as it may break compatibility with LLMsVerifier tools and expectations.

## üìã Suffix Components

### Feature Suffixes (In Order)
1. **Technical Features**: (brotli), (http3), (toon)
2. **Cost/Licensing**: (free to use), (open source)
3. **Performance**: (fast)
4. **Scoring**: (SC:8.5)
5. **Final Suffix**: **(llmsvd)** ‚Üê Always last

### Provider Suffixes
- **Format**: `ProviderName (llmsvd)`
- **Examples**:
  - `openai` ‚Üí `Openai (llmsvd)`
  - `anthropic` ‚Üí `Anthropic (llmsvd)`
  - `deepseek` ‚Üí `Deepseek (llmsvd)`

### Model Suffixes
- **Format**: `ModelName (features) (llmsvd)`
- **Examples**:
  - `GPT-4` ‚Üí `GPT-4 (llmsvd)`
  - `GPT-4` with features ‚Üí `GPT-4 (brotli) (http3) (llmsvd)`
  - `Claude-3-Sonnet` ‚Üí `Claude-3-Sonnet (llmsvd)`

## üîß Usage Examples

### CLI Usage

```bash
# Generate configuration with LLMSVD suffix
./llm-verifier/cmd/ultimate-challenge/ultimate-challenge

# Export configuration with suffixes
./model-verification --output ./configs --format opencode

# View models with suffixes
./llm-verifier models list --show-suffixes
```

### API Usage

```bash
# Get models with LLMSVD suffix
curl -X GET "http://localhost:8080/api/v1/models" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# Response includes suffixes
{
  "data": [
    {
      "name": "GPT-4 (brotli) (http3) (llmsvd)",
      "model_id": "gpt-4",
      "provider": "OpenAI (llmsvd)"
    }
  ]
}
```

### Configuration Files

#### OpenCode Configuration
```json
{
  "$schema": "https://opencodelabs.io/schema/model-config.json",
  "provider": {
    "OpenAI (llmsvd)": {
      "options": {
        "apiKey": ""
      },
      "models": {
        "GPT-4 Turbo (brotli) (http3) (llmsvd)": {
          "model": "gpt-4-turbo"
        },
        "GPT-4 (llmsvd)": {
          "model": "gpt-4"
        }
      }
    }
  }
}
```

#### Crush Configuration
```json
{
  "providers": [
    {
      "id": "openai",
      "name": "OpenAI (llmsvd)",
      "models": [
        {
          "id": "gpt-4",
          "name": "GPT-4 (brotli) (http3) (llmsvd)",
          "cost": {
            "input": 0.03,
            "output": 0.06
          }
        }
      ]
    }
  ]
}
```

## üèóÔ∏è Integration with Model Verification

### Verified Models with Suffixes
The LLMSVD suffix system works seamlessly with model verification:

```go
// Get verified models with LLMSVD suffix
verifiedModels, err := enhancedService.GetModelsWithVerification(ctx, "openai")

// Model names automatically include (llmsvd) suffix
for _, model := range verifiedModels {
    fmt.Printf("Verified Model: %s\n", model.Name) // "GPT-4 (llmsvd)"
}
```

### Configuration Generation
```go
// Generate verified configuration with suffixes
configGenerator := providers.NewVerifiedConfigGenerator(service, logger, "./configs")
err := configGenerator.GenerateAndSaveVerifiedConfig("opencode")

// All model and provider names include (llmsvd) suffix
```

## üîç Parsing and Handling Suffixes

### Removing Suffixes

```go
import "github.com/vasic-digital/LLMsVerifier/llm-verifier/scoring"

// Remove all suffixes including (llmsvd)
formatter := scoring.NewModelDisplayFormatter()
cleanName := formatter.RemoveAllSuffixes("GPT-4 (brotli) (http3) (llmsvd)")
// Result: "GPT-4"
```

### Extracting Features

```go
// Extract feature suffixes
formatter := scoring.NewModelDisplayFormatter()
features := formatter.ExtractFeatureSuffixes("GPT-4 (brotli) (http3) (llmsvd)")
// Result: ["brotli", "http3", "llmsvd"]
```

### Checking for LLMSVD Suffix

```go
// Check if model has LLMSVD suffix
formatter := scoring.NewModelDisplayFormatter()
hasSuffix := formatter.HasLLMSVDSuffix("GPT-4 (llmsvd)")
// Result: true
```

## ‚öôÔ∏è Backward Compatibility

### Migration from Old Versions
When upgrading from versions without LLMSVD suffix:

1. **Automatic Addition**: Suffix is automatically added to all models
2. **Configuration Updates**: Existing configurations are updated
3. **API Responses**: All API responses include suffixes
4. **Database Migration**: Model names in database are updated

### Compatibility Mode
```yaml
# For backward compatibility (not recommended)
branding:
  enabled: false  # Disable suffix for legacy compatibility
```

### Migration Script
```bash
# Update existing configurations
./migrate-configs --add-llmsvd-suffix

# Verify migration
./migrate-configs --verify-suffixes
```

## üß™ Testing and Validation

### Unit Tests
```bash
# Test suffix handling
go test ./scoring -v -run TestLLMSVDSuffix

# Test suffix parsing
go test ./scoring -v -run TestSuffixParsing

# Test suffix generation
go test ./scoring -v -run TestSuffixGeneration
```

### Integration Tests
```bash
# Test configuration generation with suffixes
./test_suffix_integration.sh

# Test API responses include suffixes
./test_api_suffixes.sh

# Test model verification with suffixes
./test_verification_suffixes.sh
```

### Validation Tests
```bash
# Validate all models have suffixes
./validate_suffixes.sh

# Check suffix positioning
./validate_suffix_order.sh

# Verify backward compatibility
./test_backward_compatibility.sh
```

## üìä Examples by Provider

### OpenAI Models
```
GPT-4 (llmsvd)
GPT-4 Turbo (brotli) (http3) (llmsvd)
GPT-3.5 Turbo (llmsvd)
GPT-3.5 Turbo (brotli) (llmsvd)
```

### Anthropic Models
```
Claude-3-Sonnet (llmsvd)
Claude-3-Sonnet (brotli) (http3) (llmsvd)
Claude-3-Opus (llmsvd)
Claude-3-Haiku (llmsvd)
```

### Google Models
```
Gemini Pro (llmsvd)
Gemini Pro (brotli) (http3) (llmsvd)
Gemini Ultra (llmsvd)
PaLM-2 (llmsvd)
```

### Groq Models
```
Llama-2-70B (llmsvd)
Llama-2-70B (brotli) (http3) (llmsvd)
Mixtral-8x7B (llmsvd)
Gemma-7B (llmsvd)
```

## üö® Troubleshooting

### Common Issues

#### Suffix Not Appearing
```bash
# Check if branding is enabled
grep -r "branding:" config/

# Verify configuration format
./validate-config --check-suffix-settings

# Check logs for suffix generation errors
tail -f logs/suffix_generation.log
```

#### Wrong Suffix Position
```bash
# Check suffix ordering
./debug_suffix_order --model "GPT-4 (llmsvd) (brotli)"

# Fix suffix order
./fix_suffix_order --config config.yaml
```

#### Backward Compatibility Issues
```bash
# Test legacy compatibility
./test_legacy_compatibility --old-config old_config.yaml

# Migrate old configurations
./migrate_legacy_configs --input old/ --output new/
```

### Debug Mode
```bash
# Enable suffix debug logging
./llm-verifier --debug-suffix --verbose

# Trace suffix generation
./llm-verifier --trace-suffix-generation --model gpt-4

# Generate suffix report
./llm-verifier --suffix-report --output suffix_report.json
```

## üìà Best Practices

### Configuration Management
1. **Always Enable**: Keep LLMSVD suffix enabled for consistency
2. **Document Customization**: If using custom suffixes, document thoroughly
3. **Test Changes**: Test configuration changes with suffixes
4. **Version Control**: Track configuration changes including suffix settings

### API Usage
1. **Expect Suffixes**: Always expect (llmsvd) in API responses
2. **Handle Parsing**: Use provided utilities to parse suffixes
3. **Display Names**: Show full names with suffixes to users
4. **Storage**: Store full names with suffixes in database

### Integration
1. **Backward Compatibility**: Handle both suffixed and non-suffixed names
2. **Parsing Utilities**: Use built-in parsing functions
3. **User Communication**: Explain suffix meaning to users
4. **Documentation**: Document suffix handling in your integration

## üîó Related Documentation

- [Model Verification Guide](MODEL_VERIFICATION_GUIDE.md)
- [Configuration Migration Guide](CONFIGURATION_MIGRATION_GUIDE.md)
- [API Documentation](API_DOCUMENTATION.md)
- [Test Suite Documentation](../COMPREHENSIVE_TEST_SUITE_DOCUMENTATION.md)

## üìû Support

For issues or questions:
- Check the troubleshooting section above
- Review suffix generation logs
- Test with debug mode enabled
- Validate configuration format
- Check GitHub issues for known problems

---

**The LLMSVD suffix system ensures all LLMsVerifier-generated configurations are clearly identified and branded, providing consistency and recognition across all platforms and integrations.**