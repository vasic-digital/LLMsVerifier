# Production Configuration
environment: production
debug: false
log_level: info

server:
  host: 0.0.0.0
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 60s
  tls:
    enabled: true
    cert_file: /etc/ssl/certs/server.crt
    key_file: /etc/ssl/private/server.key

database:
  driver: postgres
  host: ${DB_HOST:localhost}
  port: ${DB_PORT:5432}
  database: ${DB_NAME:llm_verifier}
  username: ${DB_USER:llm_verifier}
  password: ${DB_PASSWORD}
  ssl_mode: require
  max_connections: 100
  max_idle_time: 5m
  conn_max_lifetime: 1h

security:
  jwt_secret: ${JWT_SECRET}
  token_expiry: 24h
  refresh_token_expiry: 168h # 7 days
  max_login_attempts: 5
  lockout_duration: 15m
  session_timeout: 30m
  require_https: true
  rate_limiting:
    enabled: true
    requests: 100
    window: 1m
  cors:
    enabled: true
    allowed_origins:
      - "https://yourdomain.com"
      - "https://api.yourdomain.com"
    allowed_methods:
      - GET
      - POST
      - PUT
      - DELETE
      - OPTIONS
    allowed_headers:
      - Authorization
      - Content-Type
      - X-Tenant-ID
    exposed_headers:
      - X-Total-Count
    allow_credentials: true
    max_age: 86400

performance:
  max_workers: 50
  worker_timeout: 5m
  queue_size: 1000
  enable_profiling: false
  enable_metrics: true
  memory_limit: 2147483648 # 2GB
  cpu_quota: 2

monitoring:
  enabled: true
  prometheus:
    enabled: true
    port: 9090
    path: /metrics
    namespace: llm_verifier
  tracing:
    enabled: true
    provider: jaeger
    endpoint: http://jaeger:14268/api/traces
    service: llm-verifier
  logging:
    level: info
    format: json
    output: file
    max_size: 100
    max_backups: 10
    max_age: 30
    compress: true

providers:
  default_provider: openai
  openai:
    api_key: ${OPENAI_API_KEY}
    base_url: https://api.openai.com/v1
    timeout: 30s
    max_tokens: 4096
    temperature: 0.7
  azure:
    api_key: ${AZURE_OPENAI_API_KEY}
    endpoint: ${AZURE_OPENAI_ENDPOINT}
    deployment_name: ${AZURE_OPENAI_DEPLOYMENT:gpt-4}
    api_version: 2023-12-01-preview
    timeout: 30s
    max_tokens: 4096
    temperature: 0.7
  anthropic:
    api_key: ${ANTHROPIC_API_KEY}
    base_url: https://api.anthropic.com
    timeout: 30s
    max_tokens: 4096
    temperature: 0.7
  google:
    api_key: ${GOOGLE_AI_API_KEY}
    project_id: ${GOOGLE_PROJECT_ID}
    timeout: 30s
    max_tokens: 4096
    temperature: 0.7

enterprise:
  rbac:
    enabled: true
    default_role: user
    admin_role: admin
    super_admin_role: super_admin
  multi_tenant:
    enabled: true
    default_tenant: default
    tenant_header: X-Tenant-ID
    isolation_mode: strict
  ldap:
    enabled: false
    host: ${LDAP_HOST:ldap://localhost}
    port: ${LDAP_PORT:389}
    base_dn: ${LDAP_BASE_DN:dc=example,dc=com}
    bind_user: ${LDAP_BIND_USER:cn=admin,dc=example,dc=com}
    bind_password: ${LDAP_BIND_PASSWORD}
    user_filter: (uid=%s)
    group_filter: (memberUid=%s)
    attributes:
      - uid
      - cn
      - mail
      - memberOf
    use_ssl: false
  saml:
    enabled: false
    entity_id: https://yourdomain.com/saml
    sso_url: https://yourdomain.com/saml/sso
    identity_provider_url: https://idp.example.com/saml
    certificate_file: /etc/ssl/certs/saml.crt
    key_file: /etc/ssl/private/saml.key
  audit_logging:
    enabled: true
    storage: database
    retention: 2160h # 90 days
    compression: true